private void promptAndCreateFile() {
    TextInputDialog dialog = new TextInputDialog();
    dialog.setTitle("Create File");
    dialog.setHeaderText("Enter the filename to create:");
    Optional<String> result = dialog.showAndWait();

    result.ifPresent(filename -> {
        try {
            String basePath = System.getProperty("user.home") + "/Documents/COMP20081/src/Files/";
            File dir = new File(basePath);
            if (!dir.exists()) {
                boolean made = dir.mkdirs();
                if (!made) {
                    showAlert("Error", "Failed to create parent directory.");
                    return;
                }
            }

            File file = new File(basePath + filename);
            if (file.exists()) {
                showAlert("Warning", "File already exists.");
            } else {
                boolean created = file.createNewFile();
                if (!created) {
                    showAlert("Error", "Failed to create the file.");
                    return;
                }

                String[] cmd = {
                    "x-terminal-emulator", "-e", "bash", "-c",
                    "nano \"" + file.getAbsolutePath() + "\""
                };
                new ProcessBuilder(cmd).start();
            }
        } catch (IOException e) {
            showAlert("Error", "Error creating file: " + e.getMessage());
        }
    });
}
private void promptAndCreateFile() {
    TextInputDialog dialog = new TextInputDialog();
    dialog.setTitle("Create File");
    dialog.setHeaderText("Enter the filename to create:");
    Optional<String> result = dialog.showAndWait();

    result.ifPresent(filename -> {
        try {
            String basePath = System.getProperty("user.home") + "/Documents/COMP20081/src/Files/";
            File dir = new File(basePath);
            if (!dir.exists()) {
                boolean made = dir.mkdirs();
                if (!made) {
                    showAlert("Error", "Failed to create parent directory.");
                    return;
                }
            }

            File file = new File(basePath + filename);
            if (file.exists()) {
                showAlert("Warning", "File already exists.");
            } else {
                boolean created = file.createNewFile();
                if (!created) {
                    showAlert("Error", "Failed to create the file.");
                    return;
                }

                String[] cmd = {
                    "x-terminal-emulator", "-e", "bash", "-c",
                    "nano \"" + file.getAbsolutePath() + "\""
                };
                new ProcessBuilder(cmd).start();
            }
        } catch (IOException e) {
            showAlert("Error", "Error creating file: " + e.getMessage());
        }
    });
}
private void promptAndCreateFile() {
    TextInputDialog dialog = new TextInputDialog();
    dialog.setTitle("Create File");
    dialog.setHeaderText("Enter the filename to create:");
    Optional<String> result = dialog.showAndWait();

    result.ifPresent(filename -> {
        try {
            String basePath = System.getProperty("user.home") + "/Documents/COMP20081/src/Files/";
            File dir = new File(basePath);
            if (!dir.exists()) {
                boolean made = dir.mkdirs();
                if (!made) {
                    showAlert("Error", "Failed to create parent directory.");
                    return;
                }
            }

            File file = new File(basePath + filename);
            if (file.exists()) {
                showAlert("Warning", "File already exists.");
            } else {
                boolean created = file.createNewFile();
                if (!created) {
                    showAlert("Error", "Failed to create the file.");
                    return;
                }

                String[] cmd = {
                    "x-terminal-emulator", "-e", "bash", "-c",
                    "nano \"" + file.getAbsolutePath() + "\""
                };
                new ProcessBuilder(cmd).start();
            }
        } catch (IOException e) {
            showAlert("Error", "Error creating file: " + e.getMessage());
        }
    });
}
